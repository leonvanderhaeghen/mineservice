{"remainingRequest":"/workspace/mineservice/mineservice/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace/mineservice/mineservice/vue/node_modules/@tendermint/vue/src/components/SpTypeForm.vue?vue&type=style&index=0&id=fcda1c60&scoped=true&lang=css&","dependencies":[{"path":"/workspace/mineservice/mineservice/vue/node_modules/@tendermint/vue/src/components/SpTypeForm.vue","mtime":499162500000},{"path":"/workspace/mineservice/mineservice/vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspace/mineservice/mineservice/vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/workspace/mineservice/mineservice/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/workspace/mineservice/mineservice/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspace/mineservice/mineservice/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgdXJsKCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyOndnaHRAMTAwOzIwMDszMDA7NDAwOzUwMDs1MzE7NjAwOzcwMDs4MDAmZGlzcGxheT1zd2FwIik7CgouY29udGFpbmVyIHsKICBmb250LWZhbWlseTogIkludGVyIjsKfQouYnV0dG9uIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KLml0ZW0gewogIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDFweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgbWFyZ2luLWJvdHRvbTogMXJlbTsKICBwYWRkaW5nOiAxcmVtOwogIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5pdGVtX19maWVsZCB7CiAgZGlzcGxheTogZ3JpZDsKICBsaW5lLWhlaWdodDogMS41OwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTUlIDFmcjsKICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjsKICB3b3JkLWJyZWFrOiBicmVhay1hbGw7Cn0KLml0ZW1fX2ZpZWxkX19rZXkgewogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpOwogIHdvcmQtYnJlYWs6IGtlZXAtYWxsOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLmNhcmRfX2VtcHR5IHsKICBtYXJnaW4tYm90dG9tOiAxcmVtOwogIGJvcmRlcjogMXB4IGRhc2hlZCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgcGFkZGluZzogMXJlbTsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1pbi1oZWlnaHQ6IDhyZW07Cn0K"},{"version":3,"sources":["SpTypeForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpTypeForm.vue","sourceRoot":"node_modules/@tendermint/vue/src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <sp-h3>New {{ type }}</sp-h3>\n      <div v-for=\"field in fields\" :key=\"field\">\n        <sp-input\n          v-model=\"fieldsList[field]\"\n          type=\"text\"\n          :placeholder=\"title(field)\"\n          :disabled=\"flight\"\n        />\n      </div>\n      <div class=\"button\">\n        <sp-button\n          :loading=\"flight\"\n          :disabled=\"!valid || !hasAddress || flight\"\n          @click=\"submit\"\n        >\n          Create {{ type }}\n        </sp-button>\n      </div>\n      <sp-h3\n        >List of {{ type }} items {{ module && `in module ${module}` }}</sp-h3\n      >\n      <div class=\"item\" v-for=\"instance in instanceList\" :key=\"instance.id\">\n        <div class=\"item__field\" v-for=\"(value, key) in instance\" :key=\"key\">\n          <div class=\"item__field__key\">{{ key }}:</div>\n          <div class=\"item__field__value\">\n            {{ value }}\n          </div>\n        </div>\n      </div>\n      <div class=\"card__empty\" v-if=\"instanceList.length < 1\">\n        There are no {{ type }} items yet. Create one using the form.\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;531;600;700;800&display=swap\");\n\n.container {\n  font-family: \"Inter\";\n}\n.button {\n  display: inline-block;\n}\n.item {\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n  margin-bottom: 1rem;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  overflow: hidden;\n}\n.item__field {\n  display: grid;\n  line-height: 1.5;\n  grid-template-columns: 15% 1fr;\n  grid-template-rows: 1fr;\n  word-break: break-all;\n}\n.item__field__key {\n  color: rgba(0, 0, 0, 0.25);\n  word-break: keep-all;\n  overflow: hidden;\n}\n.card__empty {\n  margin-bottom: 1rem;\n  border: 1px dashed rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  border-radius: 8px;\n  color: rgba(0, 0, 0, 0.25);\n  text-align: center;\n  min-height: 8rem;\n}\n</style>\n\n<script>\nimport SpInput from \"./SpInput\";\nimport IconLoading2 from \"./IconLoading2\";\nimport SpH3 from \"./SpH3\";\nimport SpButton from \"./SpButton\";\n\nexport default {\n  props: {\n    type: {\n      type: String,\n    },\n    fields: {\n      default: () => [],\n    },\n    preflight: {\n      default: () => {\n        return (obj) => obj;\n      },\n    },\n    module: {\n      type: String,\n    },\n  },\n  components: {\n    SpInput,\n    IconLoading2,\n    SpH3,\n    SpButton,\n  },\n  data: function() {\n    return {\n      fieldsList: {},\n      flight: false,\n    };\n  },\n  created() {\n    (this.fields || []).forEach((field) => {\n      this.$set(this.fieldsList, field, \"\");\n    });\n    this.$store.dispatch(\"cosmos/entityFetch\", {\n      type: this.type,\n      module: this.module,\n    });\n  },\n  computed: {\n    hasAddress() {\n      return !!this.$store.state.cosmos.account.address;\n    },\n    instanceList() {\n      return this.$store.state.cosmos.data[`${this.module}/${this.type}`] || [];\n    },\n    valid() {\n      return Object.values(this.fieldsList).every((el) => {\n        return el.trim().length > 0;\n      });\n    },\n  },\n  methods: {\n    title(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n    async submit() {\n      if (this.valid && !this.flight && this.hasAddress) {\n        this.flight = true;\n        const payload = {\n          type: this.type,\n          body: this.preflight(this.fieldsList),\n          module: this.module,\n        };\n        await this.$store.dispatch(\"cosmos/entitySubmit\", payload);\n        await this.$store.dispatch(\"cosmos/entityFetch\", {\n          type: this.type,\n          body: this.fieldsList,\n          module: this.module,\n        });\n        this.flight = false;\n        Object.keys(this.fieldsList).forEach((f) => {\n          this.fieldsList[f] = \"\";\n        });\n      }\n    },\n  },\n};\n</script>\n"]}]}